<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>å¾©åˆ»é‡£é­šå¤ªéƒ - æˆ°é¬¥é‡£é­š</title>

<style>
  body {
    background: #111;
    color: #eee;
    font-family: monospace;
    text-align: center;
  }
  #game {
    margin: 20px auto;
    width: 400px;
    height: 300px;
    border: 4px solid #444;
    position: relative;
    background: #222;
  }
  .hp-bar, .stamina-bar {
    width: 300px;
    height: 16px;
    border: 2px solid #000;
    margin: 4px auto;
    position: relative;
    background: #400;
  }
  .hp-fill, .stamina-fill {
    height: 100%;
    background: #0a0;
    width: 100%;
  }
  #fish-sprite, #player-sprite {
    width: 64px;
    height: 64px;
    background: #555;
    margin: 8px auto;
  }
  #actions button {
    font-size: 16px;
    margin: 4px;
    padding: 6px 12px;
    cursor: pointer;
  }
  #log {
    height: 80px;
    overflow-y: auto;
    border-top: 1px solid #555;
    padding-top: 4px;
    font-size: 14px;
    text-align: left;
    margin-top: 6px;
  }
</style>

</head>
<body>

<h1>å¾©åˆ»é‡£é­šå¤ªéƒ â€” æˆ°é¬¥é‡£é­š</h1>

<div id="game">
  
  <!-- é­šçš„ç”Ÿå‘½æ¢ -->
  <div class="hp-bar"><div id="fish-hp" class="hp-fill"></div></div>
  <div id="fish-sprite">ğŸŸ</div>

  <!-- ç©å®¶è€åŠ› -->
  <div class="stamina-bar"><div id="player-stam" class="stamina-fill"></div></div>
  <div id="player-sprite">ğŸ£</div>

  <!-- å‹•ä½œæŒ‰éˆ• -->
  <div id="actions">
    <button onclick="playerAction('reel')">æ‹‰ç·š</button>
    <button onclick="playerAction('hold')">ç©©ä½</button>
    <button onclick="playerAction('power')">å¼·æ”»</button>
  </div>

  <!-- çµæœ / è¨Šæ¯ -->
  <div id="log"></div>

</div>

<script>

/* -------- éŠæˆ²è³‡æ–™ -------- */
let fish = { hp: 100, maxHp: 100 };
let player = { stamina: 100, maxStam: 100 };
let inBattle = false;

/* -------- æ›´æ–° UI -------- */
function updateUI() {
  document.getElementById("fish-hp").style.width = (fish.hp/fish.maxHp*100)+"%";
  document.getElementById("player-stam").style.width = (player.stamina/player.maxStam*100)+"%";
}

/* -------- éŠæˆ²æ—¥èªŒ -------- */
function log(msg) {
  let d = document.getElementById("log");
  d.innerHTML += msg + "<br>";
  d.scrollTop = d.scrollHeight;
}

/* -------- ç©å®¶å‹•ä½œ -------- */
function playerAction(action) {
  if (!inBattle) return;

  switch(action) {
    case 'reel':
      fish.hp -= 15;
      player.stamina -= 10;
      log("ä½ æ‹‰ç·šï¼é­šå—å‚·äº†ï¼");
      break;
    case 'hold':
      player.stamina += 10;
      log("ä½ ç©©ä½äº†é‡£ç·šï¼Œæ¢å¾©è€åŠ›ï¼");
      break;
    case 'power':
      fish.hp -= 30;
      player.stamina -= 25;
      log("ä½ ä½¿å‡ºå¼·æ”»ï¼");
      break;
  }

  if (fish.hp <= 0) {
    fish.hp = 0;
    log("ğŸ‰ ä½ æˆåŠŸæ•ç²äº†é­šï¼");
    inBattle = false;
  }

  if (player.stamina <= 0) {
    player.stamina = 0;
    log("â›” ä½ å¤ªç´¯äº†ï¼Œé­šé€ƒèµ°äº†ï¼");
    inBattle = false;
  }

  updateUI();
}

/* -------- é–‹å§‹æˆ°é¬¥ -------- */
function startBattle() {
  fish.hp = 100;
  player.stamina = 100;
  inBattle = true;
  log("âš”ï¸ æˆ°é¬¥é–‹å§‹ï¼é­šå’¬ä½äº†ï¼");
  updateUI();
}

startBattle(); // ä¸€é–‹å§‹å°±é–‹å§‹æˆ°é¬¥

</script>

</body>
</html>
